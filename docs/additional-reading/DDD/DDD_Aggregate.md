# Агрегат в предметно-ориентированном проектировании

23 апреля 2013

![Martin Fowler](../microservice-guide/images/microservices/mf.jpg)

[Мартин Фаулер](https://martinfowler.com/)

[ПРЕДМЕТНО-ОРИЕНТИРОВАННОЕ ПРОЕКТИРОВАНИЕ](https://martinfowler.com/tags/domain%20driven%20design.html)
[ПРОЕКТИРОВАННОЕ, ОСНОВАННОЕ НА ВЗАИМОДЕЙСТВИИ ОБЪЕКТОВ](https://martinfowler.com/tags/object%20collaboration%20design.html)

Агрегат — это шаблон в предметно-ориентированном проектировании. DDD Агрегат — это 
кластер объектов предметной области, которые можно рассматривать как единое 
целое. Примером может быть заказ и его составляющие, это будут отдельные объекты, 
но полезно рассматривать заказ (вместе с его составляющими) как единый агрегат.

У агрегата один из составляющих его объектов является корнем агрегата. Любые ссылки 
из-за пределов агрегата должны ссылаться только в корень агрегата. Таким образом, 
корень может обеспечить целостность агрегата.

Агрегаты являются основным элементом, работающим с хранилищами данных — вы 
запрашиваете загрузку или сохранение целых агрегатов. Транзакции не должны выходить за
границы агрегата.

DDD агрегаты иногда путают с классами коллекций (списками, картами и т. д.).
Агрегаты DDD являются понятиями предметной области (заказ, посещение клиники, 
список воспроизведения), а коллекции являются общими. Агрегат часто содержит 
несколько коллекций вместе с простыми полями. Термин «агрегат» является 
распространенным и используется в различных контекстах (например, UML), и в 
этом случае он не относится к тому же понятию, что и DDD агрегат.

Дополнительные сведения смотри в [книге Предметно-ориентированное проектирование](https://www.amazon.com/gp/product/0321125215/ref=as_li_tl?ie=UTF8&camp=1789&creative=9325&creativeASIN=0321125215&linkCode=as2&tag=martinfowlerc-20).